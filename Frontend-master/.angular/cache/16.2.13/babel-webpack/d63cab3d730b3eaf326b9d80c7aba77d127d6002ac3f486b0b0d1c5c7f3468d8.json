{"ast":null,"code":"import { Job } from 'src/app/services/job.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/job.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"src/app/services/skill.service\";\nimport * as i5 from \"@angular/common\";\nfunction AddJobComponent_option_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const skill_r1 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", skill_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(skill_r1.name);\n  }\n}\nexport let AddJobComponent = /*#__PURE__*/(() => {\n  class AddJobComponent {\n    constructor(route, jobService, router, fromBuilder, skillService) {\n      this.route = route;\n      this.jobService = jobService;\n      this.router = router;\n      this.fromBuilder = fromBuilder;\n      this.skillService = skillService;\n    }\n    ngOnInit() {\n      this.postJob = new Job();\n      this.skillService.getAllSkills().subscribe(data => {\n        this.skills = data;\n      }, err => {\n        alert(err.error);\n      });\n      this.jobForm = this.fromBuilder.group({\n        jobTitle: '',\n        jobDescription: '',\n        skillId: ''\n      });\n    }\n    onSubmit() {\n      this.postJob = new Job();\n      this.postJob.jobTitle = this.jobForm.value.jobTitle;\n      this.postJob.jobDescription = this.jobForm.value.jobDescription;\n      this.postJob.skillId = this.jobForm.value.skillId;\n      this.postJob.recruiterId = Number(localStorage.getItem('recruiterId'));\n      this.postJob.freelancerId = Number('2');\n      console.log(this.postJob);\n      this.jobService.addJob(this.postJob).subscribe(data => {\n        alert(data);\n        // alert(data);\n        this.router.navigate(['../../jobs'], {\n          relativeTo: this.route\n        }).then(() => {\n          window.location.reload();\n        });\n      }, err => {\n        // alert(err.error);\n        console.warn(err.error);\n      });\n    }\n    static #_ = this.ɵfac = function AddJobComponent_Factory(t) {\n      return new (t || AddJobComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.JobService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.SkillService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddJobComponent,\n      selectors: [[\"app-add-job\"]],\n      decls: 25,\n      vars: 2,\n      consts: [[1, \"container-fluid\", \"overflow-hidden\", \"text-center\"], [1, \"row\"], [1, \"col-3\"], [1, \"col-6\", \"card\", \"bg-light\", \"bg-gradient\", \"border\", \"border-5\", \"shadow\"], [1, \"card-body\"], [1, \"form\", 3, \"formGroup\"], [1, \"input-group\", \"mb-3\"], [1, \"input-group-text\"], [\"type\", \"text\", \"name\", \"jobTitle\", \"id\", \"jobTitle\", \"formControlName\", \"jobTitle\", 1, \"form-control\"], [\"formControlName\", \"jobDescription\", 1, \"form-control\"], [\"name\", \"Skill List\", \"id\", \"skillList\", \"formControlName\", \"skillId\", 1, \"form-select\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"input-group\", \"d-grid\", \"gap-2\", \"col-6\", \"mx-auto\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-primary\", 3, \"click\"], [3, \"value\"]],\n      template: function AddJobComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\");\n          i0.ɵɵtext(2, \"Create A new Job Opening\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 1);\n          i0.ɵɵelement(4, \"div\", 2);\n          i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"form\", 5)(8, \"div\", 6)(9, \"span\", 7);\n          i0.ɵɵtext(10, \"Job Title\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(11, \"input\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 6)(13, \"span\", 7);\n          i0.ɵɵtext(14, \"Job Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(15, \"textarea\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"div\", 6)(17, \"span\", 7);\n          i0.ɵɵtext(18, \"Skill\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"select\", 10);\n          i0.ɵɵtemplate(20, AddJobComponent_option_20_Template, 2, 2, \"option\", 11);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 12)(22, \"button\", 13);\n          i0.ɵɵlistener(\"click\", function AddJobComponent_Template_button_click_22_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵtext(23, \"Post Job\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelement(24, \"div\", 2);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"formGroup\", ctx.jobForm);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngForOf\", ctx.skills);\n        }\n      },\n      dependencies: [i5.NgForOf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName]\n    });\n  }\n  return AddJobComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}